query ListAllTutors @auth(level: PUBLIC) {
  tutors {
    id
    name
    type
    gender
    email
    phoneNo
    address
  }
}

query ListTutorByName($name: String!) @auth(level: PUBLIC) {
  tutors(where: { name: { eq: $name } }) {
    id
    name
    type
    gender
    email
    phoneNo
    address
  }
}

query ListAllStudents @auth(level: PUBLIC) {
  students {
    id
    name
    type
    gender
    dob
    email
    phoneNo
    address
    status
    tuitionLoc
    tutor{
      id
      name
      type
      gender
      email
      phoneNo
      address
    }
  }
}

query ListMyStudents @auth(level: USER) {
  students(where: { tutor: { id: { eq_expr: "auth.uid" } } }) {
    id
    name
    type
    gender  
    dob
    email
    phoneNo
    address
    status
    tuitionLoc
  }
}


query checkURL($id: UUID!) @auth(level: PUBLIC) {
  registrationLinks (
    where: {
      _and: [
        { id: { eq: $id } },
        { expiryDate: { ge_expr: "request.time" } }
      ]
    }
  ) {
    id
    submitted
    expiryDate
    tutor {
      id
      name
      type
  }
  }}